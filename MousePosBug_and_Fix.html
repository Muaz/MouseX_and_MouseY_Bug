<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>The Original (buggy) mouse position and  The new (correct) mouse position</title>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js" type="text/javascript"></script>
    <script src="processing.js" type=""></script>
    <script src="MousePositionFunction.js" type=""></script>
    <script src="init.js" type=""></script>
    <script type="text/javascript">

        function handleEvent(oEvent,id) {
                    var oTextbox = document.getElementById("txt1");
                    var elem = document.getElementById(id);
                    var xp = GetMousePositionInElement(oEvent,elem).x;
                    var yp = GetMousePositionInElement(oEvent,elem).y;

                    oTextbox.value += "\n new (correct) mouse position (using the proposed mouse position function): (" + xp + ", " + yp + ")";
                }
                               
</script>
</head>
<body>
        
             <div id="container">
            <div id="head">

		   <P>Use your mouse to click the green square.</p>
			
			</div> <!-- #head -->
		
             <table width="100%">
             <td width="75%" id="myTD">
         <script type="application/processing">

       float bx;
       float by;
             
	void setup(){
             
		size(200,200);

	}
             
     void draw(){
             
        background(0,255,0);
             
        }

        void mousePressed(){

          bx = mouseX;
          by = mouseY;

         var oTextbox = document.getElementById("txt1");
         oTextbox.value += "\n Original (buggy) mouse position: (" + bx + ", " + by + ") \n";
        }
                                            
</script><canvas id="canvas" width="200" height="200" onmousedown="handleEvent(event, id)"></canvas>
             </td>
             </table>
             </div>
                           
<P><textarea id="txt1" rows="15" cols="50"></textarea></p>
</body>
</html>



        